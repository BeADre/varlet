import{F as M,u as T}from"./provide.fd12b49f.js";import{a as z}from"./components.101c5ac0.js";import{u as B}from"./index.7bc1107a.js";import{u as x}from"./shared.61f3a471.js";import{_ as E}from"./elevation.8fda2ce0.js";import{d as N,b as s,y as b,e as S,o as w,c as D,a as W,G as q,p as P,i as H,z as I}from"./vendor.8243c41e.js";function J(e){return["horizontal","vertical"].includes(e)}const K={modelValue:{type:Array,default:()=>[]},max:{type:[String,Number]},direction:{type:String,default:"horizontal",validator:J},validateTrigger:{type:Array,default:["onChange"]},rules:{type:Array},onChange:{type:Function},"onUpdate:modelValue":{type:Function}};const L=N({name:"VarCheckboxGroup",components:{VarFormDetails:M},props:K,setup(e){const d=s(()=>e.max),u=s(()=>e.modelValue.length),{length:m,checkboxes:r,bindCheckboxes:h}=B(),{bindForm:c}=T(),{errorMessage:v,validateWithTrigger:C,validate:y,resetValidation:l}=z(),j=s(()=>v.value),G=a=>{I(()=>{const{validateTrigger:t,rules:o,modelValue:n}=e;C(t,a,o,n)})},f=a=>{var t,o;(t=e["onUpdate:modelValue"])==null||t.call(e,a),(o=e.onChange)==null||o.call(e,a),G("onChange")},U=a=>{const{modelValue:t}=e;t.includes(a)||f([...t,a])},$=a=>{const{modelValue:t}=e;!t.includes(a)||f(t.filter(o=>o!==a))},g=()=>r.forEach(({sync:a})=>a(e.modelValue)),A=()=>{var o;const a=r.map(({checkedValue:n})=>n.value),t=x(a);return(o=e["onUpdate:modelValue"])==null||o.call(e,t),t},F=()=>{var o;const a=r.filter(({checked:n})=>!n.value).map(({checkedValue:n})=>n.value),t=x(a);return(o=e["onUpdate:modelValue"])==null||o.call(e,t),t},k=()=>{var a;(a=e["onUpdate:modelValue"])==null||a.call(e,[]),l()},V=()=>y(e.rules,e.modelValue);b(()=>e.modelValue,g,{deep:!0}),b(()=>m.value,g);const _={max:d,checkedCount:u,onChecked:U,onUnchecked:$,validate:V,resetValidation:l,reset:k,errorMessage:j};return h(_),c==null||c(_),{errorMessage:v,checkAll:A,inverseAll:F,reset:k,validate:V,resetValidation:l}}}),O={class:"var-checkbox-group__wrap"};function Q(e,d,u,m,r,h){const c=S("var-form-details");return w(),D("div",O,[W("div",{class:P(["var-checkbox-group",[`var-checkbox-group--${e.direction}`]])},[q(e.$slots,"default")],2),H(c,{"error-message":e.errorMessage},null,8,["error-message"])])}var i=E(L,[["render",Q]]);i.install=function(e){e.component(i.name,i)};export{i as C};
