(self.webpackChunk_varlet_ui=self.webpackChunk_varlet_ui||[]).push([[7740],{7740:(e,r,n)=>{"use strict";n.d(r,{Z:()=>_});var l,a=n(7875),t=n(349),o={class:"var-slider"},i={class:"var-slider__track"},s=n(641),u=n(9838),c=n(9347),d=n(4268),v=n(8442),b={modelValue:{type:[Number,Array],default:0},step:{type:[Number,String],default:1},range:{type:Boolean,default:!1},labelVisible:{type:String,default:"normal",validator:function(e){return["always","normal","never"].includes(e)}},activeColor:{type:String},trackColor:{type:String},thumbColor:{type:String},labelColor:{type:String},labelTextColor:{type:String},trackHeight:{type:[String,Number]},thumbSize:{type:[String,Number]},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rules:{type:Array},onChange:{type:Function},onStart:{type:Function},onEnd:{type:Function},"onUpdate:modelValue":{type:Function}},m=n(2588);!function(e){e.First="1",e.Second="2"}(l||(l={}));const p=(0,a.aZ)({name:"VarSlider",components:{[m.Z.name]:m.Z},props:b,setup(e){var{bindForm:r,form:n}=(0,c.cI)(),{errorMessage:t,validateWithTrigger:o,validate:i,resetValidation:b}=(0,u.V$)(),m=(0,s.iH)(null),p=(0,s.iH)(0),h=(0,s.iH)(!1),g=(0,s.qj)({[l.First]:{startPosition:0,currentLeft:0,active:!1,percentValue:0},[l.Second]:{startPosition:0,currentLeft:0,active:!1,percentValue:0}}),f=(0,a.Fl)((()=>p.value/100*(0,v.He)(e.step))),k=(0,a.Fl)((()=>{var r=[{value:e.modelValue,enumValue:l.First}];return e.range&&(0,v.kJ)(e.modelValue)&&(r=[{value:e.modelValue[0],enumValue:l.First},{value:e.modelValue[1],enumValue:l.Second}]),r})),_=(0,a.Fl)((()=>{var{activeColor:r,range:n,modelValue:l}=e,a=n&&(0,v.kJ)(l)?Math.abs(l[0]-l[1]):l,t=n&&(0,v.kJ)(l)?Math.min(l[0],l[1]):0;return{width:"".concat(a,"%"),left:"".concat(t,"%"),background:r}})),y=(0,a.Fl)((()=>e.disabled||(null==n?void 0:n.disabled.value))),V=(0,a.Fl)((()=>e.readonly||(null==n?void 0:n.readonly.value))),x=(r,n)=>{var t=[],{step:i,range:s,modelValue:u,onChange:c}=e,d=(0,v.He)(i),b=Math.round(r/f.value)*d,m=g[n].percentValue;if(g[n].percentValue=b/d,s&&(0,v.kJ)(u)&&(t=n===l.First?[b,u[1]]:[u[0],b]),m!==b){var p,h=s?t:b;null==c||c(h),null===(p=e["onUpdate:modelValue"])||void 0===p||p.call(e,h),(0,a.Y3)((()=>o(["onChange"],"onChange",e.rules,e.modelValue)))}},w=r=>{var{range:n,modelValue:a,onEnd:t}=e;if(!y.value&&!V.value){var o=[];g[r].currentLeft=g[r].percentValue*f.value,g[r].active=!1;var i=g[r].percentValue;n&&(0,v.kJ)(a)&&(o=r===l.First?[i,a[1]]:[a[0],i]),null==t||t(n?o:i),h.value=!1}},S=()=>{var r=(0,v.He)(e.step);return isNaN(r)?(console.warn('[Varlet] Slider: type of prop "step" should be Number'),!1):r<1||r>100?(console.warn('[Varlet] Slider: "step" should be >= 0 and <= 100'),!1):parseInt("".concat(e.step),10)===r||(console.warn('[Varlet] Slider: "step" should be an Integer'),!1)},z=()=>{var{range:r,modelValue:n}=e;return r&&!(0,v.kJ)(n)?(console.error('[Varlet] Slider: "modelValue" should be an Array'),!1):!r&&(0,v.kJ)(n)?(console.error('[Varlet] Slider: "modelValue" should be a Number'),!1):!(r&&(0,v.kJ)(n)&&n.length<2&&(console.error('[Varlet] Slider: "modelValue" should have two value'),1))},F=(r=e.modelValue,n=(0,v.He)(e.step))=>{e.range&&(0,v.kJ)(r)?(g[l.First].percentValue=r[0]/n,g[l.First].currentLeft=g[l.First].percentValue*f.value,g[l.Second].percentValue=r[1]/n,g[l.Second].currentLeft=g[l.Second].percentValue*f.value):(0,v.hj)(r)&&(g[l.First].currentLeft=r/n*f.value)};return(0,a.YP)([()=>e.modelValue,()=>e.step],(([e,r])=>{S()&&z()&&!h.value&&F(e,(0,v.He)(r))})),(0,a.YP)(p,(()=>F())),(0,a.bv)((()=>{S()&&z()&&(p.value=m.value.offsetWidth)})),null==r||r({reset:()=>{var r,n=e.range?[0,0]:0;null===(r=e["onUpdate:modelValue"])||void 0===r||r.call(e,n),b()},validate:()=>i(e.rules,e.modelValue),resetValidation:b}),{Thumbs:l,sliderEl:m,getFillStyle:_,isDisabled:y,errorMessage:t,thumbsProps:g,thumbList:k,showLabel:r=>"always"===e.labelVisible||"never"!==e.labelVisible&&g[r].active,start:(r,n)=>{var l;p.value||(p.value=m.value.offsetWidth),y.value||V.value||(null===(l=e.onStart)||void 0===l||l.call(e),h.value=!0,g[n].startPosition=r.touches[0].clientX)},move:(e,r)=>{if(!y.value&&!V.value&&h.value){var n=e.touches[0].clientX-g[r].startPosition+g[r].currentLeft;g[r].active=!0,n<=0?n=0:n>=p.value&&(n=p.value),x(n,r)}},end:w,click:r=>{if(!y.value&&!V.value&&!r.target.closest(".var-slider__thumb")){var n=r.clientX-(0,d.IS)(r.currentTarget),a=(r=>{if(!e.range)return l.First;var n=g[l.First].percentValue*f.value,a=g[l.Second].percentValue*f.value;return Math.abs(r-n)<=Math.abs(r-a)?l.First:l.Second})(n);x(n,a),w(a)}}}}});var h=n(6062),g=n.n(h),f=n(6034);g()(f.Z,{insert:"head",singleton:!1}),f.Z.locals,p.render=function(e,r,n,l,s,u){var c=(0,a.up)("var-form-details");return(0,a.wg)(),(0,a.j4)("div",o,[(0,a.Wm)("div",{class:["var-slider-block",[e.isDisabled?"var-slider__disable":null,e.errorMessage?"var-slider__error":null]],style:{height:"".concat(3*e.thumbSize,"px"),margin:"0 ".concat(e.thumbSize/2,"px")},ref:"sliderEl",onClick:r[1]||(r[1]=(...r)=>e.click&&e.click(...r))},[(0,a.Wm)("div",i,[(0,a.Wm)("div",{class:"var-slider__track-background",style:{background:e.trackColor,height:e.trackHeight+"px"}},null,4),(0,a.Wm)("div",{class:"var-slider__track-fill",style:e.getFillStyle},null,4)]),((0,a.wg)(!0),(0,a.j4)(a.HY,null,(0,a.Ko)(e.thumbList,(r=>((0,a.wg)(),(0,a.j4)("div",{class:"var-slider__thumb",key:r.enumValue,style:{left:"".concat(r.value,"%"),zIndex:e.thumbsProps[r.enumValue].active?1:null},onTouchstart:n=>e.start(n,r.enumValue),onTouchmove:n=>e.move(n,r.enumValue),onTouchend:n=>e.end(r.enumValue),onTouchcancel:n=>e.end(r.enumValue)},[(0,a.WI)(e.$slots,"button",{currentValue:r.value},(()=>[(0,a.Wm)("div",{class:"var-slider__thumb-block",style:{background:e.thumbColor,height:e.thumbSize+"px",width:e.thumbSize+"px"}},null,4),(0,a.Wm)("div",{class:["var-slider__thumb-ripple",[e.thumbsProps[r.enumValue].active?"var-slider__thumb-ripple-active":null]],style:{background:e.thumbColor,height:e.thumbSize?e.thumbsProps[r.enumValue].active?3*e.thumbSize+"px":"0px":null,width:e.thumbSize?e.thumbsProps[r.enumValue].active?3*e.thumbSize+"px":"0px":null}},null,6),(0,a.Wm)("div",{class:["var-slider__thumb-label",[e.showLabel(r.enumValue)?"var-slider__thumb-label-active":null]],style:{background:e.labelColor,color:e.labelTextColor,height:2*e.thumbSize+"px",width:2*e.thumbSize+"px"}},[(0,a.Wm)("span",null,(0,t.zw)(r.value),1)],6)]))],44,["onTouchstart","onTouchmove","onTouchend","onTouchcancel"])))),128))],6),(0,a.Wm)(c,{"error-message":e.errorMessage,class:"var-slider__form","var-slider-cover":""},null,8,["error-message"])])};const k=p;k.install=function(e){e.component(k.name,k)};const _=k},6034:(e,r,n)=>{"use strict";n.d(r,{Z:()=>t});var l=n(2609),a=n.n(l)()((function(e){return e[1]}));a.push([e.id,".var--box {\n  box-sizing: border-box;\n}\n.var--box * {\n  box-sizing: border-box;\n}\n.var--relative {\n  position: relative;\n}\n.var--absolute {\n  position: absolute;\n}\n.var--hidden {\n  overflow: hidden;\n}\n.var--lock {\n  overflow: hidden;\n}\n.var--block {\n  display: block;\n}\n.var--inline-block {\n  display: inline-block;\n}\n.var--flex {\n  display: flex;\n}\n.var--inline-flex {\n  display: inline-flex;\n}\n:root {\n  --font-size-xs: 10px;\n  --font-size-sm: 12px;\n  --font-size-md: 14px;\n  --font-size-lg: 16px;\n  --icon-size-xs: 16px;\n  --icon-size-sm: 18px;\n  --icon-size-md: 20px;\n  --icon-size-lg: 22px;\n  --color-primary: #3a7afe;\n  --color-info: #00afef;\n  --color-success: #00c48f;\n  --color-warning: #ff9f00;\n  --color-danger: #f44336;\n  --color-disabled: #e0e0e0;\n  --cubic-bezier: cubic-bezier(0.25, 0.8, 0.5, 1);\n  --shadow-key-umbra-opacity: rgba(0, 0, 0, 0.2);\n  --shadow-key-penumbra-opacity: rgba(0, 0, 0, 0.14);\n  --shadow-key-ambient-opacity: rgba(0, 0, 0, 0.12);\n}\n:root {\n  --form-details-error-color: var(--color-danger);\n  --form-details-length-color: #888;\n  --form-details-margin-top: 6px;\n  --form-details-font-size: 12px;\n  --form-details-message-margin-right: 4px;\n}\n.var-form-details-enter-from,\n.var-form-details-leave-to {\n  opacity: 0;\n  margin-top: 2px !important;\n}\n.var-form-details-enter-active,\n.var-form-details-leave-active {\n  transition: 0.2s all var(--cubic-bezier);\n}\n.var-form-details {\n  display: flex;\n  justify-content: space-between;\n  font-size: var(--form-details-font-size);\n  margin-top: var(--form-details-margin-top);\n}\n.var-form-details__message {\n  flex-grow: 1;\n  color: var(--form-details-error-color);\n  margin-right: var(--form-details-message-margin-right);\n  -webkit-user-select: none;\n          user-select: none;\n  text-align: left;\n}\n.var-form-details__length {\n  flex-shrink: 0;\n  color: var(--form-details-length-color);\n  -webkit-user-select: none;\n          user-select: none;\n  text-align: right;\n}\n:root {\n  --slider-error-color: var(--color-danger);\n  --slider-track-background: #bdbdbd;\n  --slider-track-fill-background: var(--color-primary);\n  --slider-thumb-block-background: var(--color-primary);\n  --slider-thumb-ripple-background: var(--color-primary);\n  --slider-thumb-label-background: var(--color-primary);\n  --slider-thumb-label-font-size: var(--font-size-sm);\n}\n.var-slider {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.var-slider-block {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1;\n  -webkit-user-select: none;\n          user-select: none;\n  height: 36px;\n  margin: 0 6px;\n}\n.var-slider__disable {\n  -webkit-filter: opacity(0.6);\n          filter: opacity(0.6);\n}\n.var-slider__track {\n  width: 100%;\n  align-items: center;\n  position: relative;\n}\n.var-slider__track-background {\n  width: 100%;\n  height: 2px;\n  background: var(--slider-track-background);\n}\n.var-slider__track-fill {\n  position: absolute;\n  height: 100%;\n  left: 0;\n  top: 0;\n  background-color: var(--slider-track-fill-background);\n}\n.var-slider__thumb {\n  position: absolute;\n}\n.var-slider__thumb-block {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n  background-color: var(--slider-thumb-block-background);\n}\n.var-slider__thumb-ripple {\n  position: absolute;\n  width: 0;\n  z-index: -1;\n  height: 0;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  opacity: 0.3;\n  background: var(--slider-thumb-ripple-background);\n  transition: 0.3s var(--cubic-bezier);\n}\n.var-slider__thumb-ripple-active {\n  width: 36px;\n  height: 36px;\n}\n.var-slider__thumb-label {\n  height: 24px;\n  width: 24px;\n  background-color: var(--slider-thumb-label-background);\n  display: flex;\n  align-items: center;\n  border: none;\n  justify-content: center;\n  color: #fff;\n  border-radius: 50% 50% 0;\n  bottom: 60%;\n  -webkit-user-select: none;\n          user-select: none;\n  position: absolute;\n  left: 45%;\n  transition: 0.3s var(--cubic-bezier);\n  font-size: var(--slider-thumb-label-font-size);\n  overflow: hidden;\n  transform: translateY(0) translateY(0) translateX(-50%) rotate(45deg) scale(0);\n}\n.var-slider__thumb-label span {\n  transform: rotate(-45deg);\n}\n.var-slider__thumb-label-active {\n  transform: translateY(-50%) translateX(-50%) rotate(45deg) scale(1);\n}\n.var-slider__error .var-slider__track-background {\n  background-color: var(--slider-error-color) !important;\n  -webkit-filter: opacity(0.25);\n          filter: opacity(0.25);\n}\n.var-slider__error .var-slider__track-fill {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__error .var-slider__thumb-block {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__error .var-slider__thumb-ripple {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__error .var-slider__thumb-label {\n  background-color: var(--slider-error-color) !important;\n}\n.var-slider__form[var-slider-cover] {\n  margin: 0;\n}\n",""]);const t=a}}]);